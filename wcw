#!/usr/bin/perl

use strict;
use warnings;
use YAML::Tiny;



# Read directory with yaml files
opendir( my $dh, "./websites" ) || die "Can't open directory";
my @files = grep { ! /^\./ && /.*\.ya?ml/ && -f "./websites/$_" } readdir $dh;
closedir $dh;


# Process each file
for my $file ( sort @files ) {

    print "Processing file $file...\n";

    # Reading content
    my $yaml = YAML::Tiny->read( "./websites/$file" );

    my $url = $yaml->[0]->{url};

}
